!function(a,b){a.widget("dui.ipfield",{version:"1.0.1",widgetName:"ipfield",widgetEventPrefix:"ipfield",options:{type:"ip",value:"1.0.0.1",error:a.noop},_create:function(){if(this.element.toggleClass("u-ip",!0),this.element.html('<input type="text" maxlength="3"/><span>.</span><input type="text" maxlength="3"/><span>.</span><input type="text" maxlength="3"/><span>.</span><input type="text" maxlength="3"/>'),this.inputs=this.element.find("input"),this.inputs.each(function(b){a(this).data("index",b)}).numberfield({max:255,min:0,allowDecimal:!1,allowNegative:!1}),"ip"==this.options.type){var b=this;this.inputs.eq(0).numberfield({max:223,min:1,preventValue:[127],error:function(a,c){"range"==c.type?b._trigger("error",a,{ui:this,type:"firstIPError"}):"prevent"===c.type&&(b._trigger("error",a,{ui:this,type:"prevent"}),b.inputs.eq(0).numberfield("value",1))}}),this.inputs.eq(3).numberfield({max:254,min:1,error:function(a,c){"range"==c.type&&b._trigger("error",a,{ui:this,type:"lastIPError"})}})}if("ipBroad"==this.options.type){var b=this;this.inputs.eq(0).numberfield({max:239,min:224,error:function(a,c){"range"==c.type&&b._trigger("error",a,{ui:this,type:"firstIPError"})}})}this.value(this.options.value),this._setupEvent()},_setupEvent:function(){this._on(this.handleEvents)},value:function(c){if(c===b){var d=[];return this.inputs.each(function(){d.push(this.value)}),d.join(".")}var e=this,f=c.split(".");a.each(f,function(a,b){e.inputs.eq(a).numberfield("value",b)})},empty:function(a){this.inputs.val(a?"":0)},enable:function(){this.inputs.prop("disabled",!1)},disable:function(){this.inputs.prop("disabled",!0)},handleEvents:{"keyup input":function(b){var c=a(b.target),d=c.data("selected"),e=c.data("index"),f=c.prop("selectionStart");if(9!==b.which)if(110===b.which||190===b.which){if(d)return void c.trigger("select");3===e?c.blur():this.inputs.eq(e+1).trigger("select")}else if(37===b.which||38===b.which)d?e?this.inputs.eq(e-1).trigger("select"):c.blur():!f&&e&&this.inputs.eq(e-1).trigger("select");else if(39===b.which||40===b.which)d?3===e?c.blur():this.inputs.eq(e+1).trigger("select"):f===c.val().length&&3!==e&&this.inputs.eq(e+1).trigger("select");else{if(c.val().length<3)return void c.data("selected",!1);3===e?c.blur():this.inputs.eq(e+1).trigger("select")}},"select input":function(b){a(b.target).data("selected",!0)},"blur input":function(b){a(b.target).data("selected",!1)},"click input":function(b){a(b.target).data("selected",!1)}}})}(jQuery);